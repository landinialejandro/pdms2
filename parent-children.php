<?php
// This script and data application were generated by AppGini 5.72
// Download AppGini for free from https://bigprof.com/appgini/download/

	/* Configuration */
	/*************************************/

		$pcConfig = array(
			'orders' => array(   
				'kind' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Ordini',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/cart_remove.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(0 => 'id', 1 => 'Kind Order', 5 => 'ID Azienda', 6 => 'Tipo documento', 7 => 'Numero documento', 8 => 'Cliente', 10 => 'Data Ordine', 12 => 'Data di spedizione', 13 => 'Spedizione a mezzo', 15 => 'Pallets', 16 => 'Targa Automezzo', 17 => 'Totale ordine', 18 => 'Credito o cassa', 19 => 'Fido Cliente', 20 => 'Scoperto Cliente', 21 => 'Provvigione su ordine', 22 => 'Ora di consegna', 23 => 'Luogo consegna'),
					'display-field-names' => array(0 => 'id', 1 => 'kind', 5 => 'company', 6 => 'typeDoc', 7 => 'multiOrder', 8 => 'customer', 10 => 'date', 12 => 'shippedDate', 13 => 'shipVia', 15 => 'pallets', 16 => 'licencePlate', 17 => 'orderTotal', 18 => 'cashCredit', 19 => 'trust', 20 => 'overdraft', 21 => 'commisionFee', 22 => 'consigneeHour', 23 => 'consigneePlace'),
					'sortable-fields' => array(0 => '`orders`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`orders`.`multiOrder`', 8 => '`companies2`.`companyName`', 9 => '`contacts1`.`name`', 10 => '`orders`.`date`', 11 => '`orders`.`requiredDate`', 12 => '`orders`.`shippedDate`', 13 => '`companies3`.`companyName`', 14 => '`orders`.`Freight`', 15 => '`orders`.`pallets`', 16 => 17, 17 => '`orders`.`orderTotal`', 18 => 19, 19 => '`orders`.`trust`', 20 => '`orders`.`overdraft`', 21 => '`orders`.`commisionFee`', 22 => '`orders`.`consigneeHour`', 23 => 24),
					'records-per-page' => 10,
					'default-sort-by' => 7,
					'default-sort-direction' => 'desc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-orders',
					'template-printable' => 'children-orders-printable',
					'query' => "SELECT `orders`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `orders`.`progressiveNr` as 'progressiveNr', `orders`.`trasmissionFor` as 'trasmissionFor', `orders`.`consigneeID` as 'consigneeID', IF(    CHAR_LENGTH(`companies1`.`companyCode`) || CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyCode`, ' - ', `companies1`.`companyName`), '') as 'company', IF(    CHAR_LENGTH(`kinds2`.`code`) || CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`code`, ' - ', `kinds2`.`name`), '') as 'typeDoc', `orders`.`multiOrder` as 'multiOrder', IF(    CHAR_LENGTH(`companies2`.`companyName`), CONCAT_WS('',   `companies2`.`companyName`), '') as 'customer', IF(    CHAR_LENGTH(`contacts1`.`name`), CONCAT_WS('',   `contacts1`.`name`), '') as 'employee', if(`orders`.`date`,date_format(`orders`.`date`,'%d/%m/%Y'),'') as 'date', if(`orders`.`requiredDate`,date_format(`orders`.`requiredDate`,'%d/%m/%Y'),'') as 'requiredDate', if(`orders`.`shippedDate`,date_format(`orders`.`shippedDate`,'%d/%m/%Y'),'') as 'shippedDate', IF(    CHAR_LENGTH(`companies3`.`companyName`), CONCAT_WS('',   `companies3`.`companyName`), '') as 'shipVia', `orders`.`Freight` as 'Freight', `orders`.`pallets` as 'pallets', `orders`.`licencePlate` as 'licencePlate', `orders`.`orderTotal` as 'orderTotal', concat('<i class=\"glyphicon glyphicon-', if(`orders`.`cashCredit`, 'check', 'unchecked'), '\"></i>') as 'cashCredit', `orders`.`trust` as 'trust', `orders`.`overdraft` as 'overdraft', `orders`.`commisionFee` as 'commisionFee', if(`orders`.`consigneeHour`,date_format(`orders`.`consigneeHour`,'%d/%m/%Y %h:%i %p'),'') as 'consigneeHour', `orders`.`consigneePlace` as 'consigneePlace' FROM `orders` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`orders`.`kind` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`orders`.`company` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`orders`.`typeDoc` LEFT JOIN `companies` as companies2 ON `companies2`.`id`=`orders`.`customer` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`orders`.`employee` LEFT JOIN `companies` as companies3 ON `companies3`.`id`=`orders`.`shipVia` "
				),
				'company' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Ordini',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/cart_remove.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(0 => 'id', 1 => 'Kind Order', 5 => 'ID Azienda', 6 => 'Tipo documento', 7 => 'Numero documento', 8 => 'Cliente', 10 => 'Data Ordine', 12 => 'Data di spedizione', 13 => 'Spedizione a mezzo', 15 => 'Pallets', 16 => 'Targa Automezzo', 17 => 'Totale ordine', 18 => 'Credito o cassa', 19 => 'Fido Cliente', 20 => 'Scoperto Cliente', 21 => 'Provvigione su ordine', 22 => 'Ora di consegna', 23 => 'Luogo consegna'),
					'display-field-names' => array(0 => 'id', 1 => 'kind', 5 => 'company', 6 => 'typeDoc', 7 => 'multiOrder', 8 => 'customer', 10 => 'date', 12 => 'shippedDate', 13 => 'shipVia', 15 => 'pallets', 16 => 'licencePlate', 17 => 'orderTotal', 18 => 'cashCredit', 19 => 'trust', 20 => 'overdraft', 21 => 'commisionFee', 22 => 'consigneeHour', 23 => 'consigneePlace'),
					'sortable-fields' => array(0 => '`orders`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`orders`.`multiOrder`', 8 => '`companies2`.`companyName`', 9 => '`contacts1`.`name`', 10 => '`orders`.`date`', 11 => '`orders`.`requiredDate`', 12 => '`orders`.`shippedDate`', 13 => '`companies3`.`companyName`', 14 => '`orders`.`Freight`', 15 => '`orders`.`pallets`', 16 => 17, 17 => '`orders`.`orderTotal`', 18 => 19, 19 => '`orders`.`trust`', 20 => '`orders`.`overdraft`', 21 => '`orders`.`commisionFee`', 22 => '`orders`.`consigneeHour`', 23 => 24),
					'records-per-page' => 10,
					'default-sort-by' => 7,
					'default-sort-direction' => 'desc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-orders',
					'template-printable' => 'children-orders-printable',
					'query' => "SELECT `orders`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `orders`.`progressiveNr` as 'progressiveNr', `orders`.`trasmissionFor` as 'trasmissionFor', `orders`.`consigneeID` as 'consigneeID', IF(    CHAR_LENGTH(`companies1`.`companyCode`) || CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyCode`, ' - ', `companies1`.`companyName`), '') as 'company', IF(    CHAR_LENGTH(`kinds2`.`code`) || CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`code`, ' - ', `kinds2`.`name`), '') as 'typeDoc', `orders`.`multiOrder` as 'multiOrder', IF(    CHAR_LENGTH(`companies2`.`companyName`), CONCAT_WS('',   `companies2`.`companyName`), '') as 'customer', IF(    CHAR_LENGTH(`contacts1`.`name`), CONCAT_WS('',   `contacts1`.`name`), '') as 'employee', if(`orders`.`date`,date_format(`orders`.`date`,'%d/%m/%Y'),'') as 'date', if(`orders`.`requiredDate`,date_format(`orders`.`requiredDate`,'%d/%m/%Y'),'') as 'requiredDate', if(`orders`.`shippedDate`,date_format(`orders`.`shippedDate`,'%d/%m/%Y'),'') as 'shippedDate', IF(    CHAR_LENGTH(`companies3`.`companyName`), CONCAT_WS('',   `companies3`.`companyName`), '') as 'shipVia', `orders`.`Freight` as 'Freight', `orders`.`pallets` as 'pallets', `orders`.`licencePlate` as 'licencePlate', `orders`.`orderTotal` as 'orderTotal', concat('<i class=\"glyphicon glyphicon-', if(`orders`.`cashCredit`, 'check', 'unchecked'), '\"></i>') as 'cashCredit', `orders`.`trust` as 'trust', `orders`.`overdraft` as 'overdraft', `orders`.`commisionFee` as 'commisionFee', if(`orders`.`consigneeHour`,date_format(`orders`.`consigneeHour`,'%d/%m/%Y %h:%i %p'),'') as 'consigneeHour', `orders`.`consigneePlace` as 'consigneePlace' FROM `orders` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`orders`.`kind` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`orders`.`company` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`orders`.`typeDoc` LEFT JOIN `companies` as companies2 ON `companies2`.`id`=`orders`.`customer` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`orders`.`employee` LEFT JOIN `companies` as companies3 ON `companies3`.`id`=`orders`.`shipVia` "
				),
				'typeDoc' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Ordini',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/cart_remove.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(0 => 'id', 1 => 'Kind Order', 5 => 'ID Azienda', 6 => 'Tipo documento', 7 => 'Numero documento', 8 => 'Cliente', 10 => 'Data Ordine', 12 => 'Data di spedizione', 13 => 'Spedizione a mezzo', 15 => 'Pallets', 16 => 'Targa Automezzo', 17 => 'Totale ordine', 18 => 'Credito o cassa', 19 => 'Fido Cliente', 20 => 'Scoperto Cliente', 21 => 'Provvigione su ordine', 22 => 'Ora di consegna', 23 => 'Luogo consegna'),
					'display-field-names' => array(0 => 'id', 1 => 'kind', 5 => 'company', 6 => 'typeDoc', 7 => 'multiOrder', 8 => 'customer', 10 => 'date', 12 => 'shippedDate', 13 => 'shipVia', 15 => 'pallets', 16 => 'licencePlate', 17 => 'orderTotal', 18 => 'cashCredit', 19 => 'trust', 20 => 'overdraft', 21 => 'commisionFee', 22 => 'consigneeHour', 23 => 'consigneePlace'),
					'sortable-fields' => array(0 => '`orders`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`orders`.`multiOrder`', 8 => '`companies2`.`companyName`', 9 => '`contacts1`.`name`', 10 => '`orders`.`date`', 11 => '`orders`.`requiredDate`', 12 => '`orders`.`shippedDate`', 13 => '`companies3`.`companyName`', 14 => '`orders`.`Freight`', 15 => '`orders`.`pallets`', 16 => 17, 17 => '`orders`.`orderTotal`', 18 => 19, 19 => '`orders`.`trust`', 20 => '`orders`.`overdraft`', 21 => '`orders`.`commisionFee`', 22 => '`orders`.`consigneeHour`', 23 => 24),
					'records-per-page' => 10,
					'default-sort-by' => 7,
					'default-sort-direction' => 'desc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-orders',
					'template-printable' => 'children-orders-printable',
					'query' => "SELECT `orders`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `orders`.`progressiveNr` as 'progressiveNr', `orders`.`trasmissionFor` as 'trasmissionFor', `orders`.`consigneeID` as 'consigneeID', IF(    CHAR_LENGTH(`companies1`.`companyCode`) || CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyCode`, ' - ', `companies1`.`companyName`), '') as 'company', IF(    CHAR_LENGTH(`kinds2`.`code`) || CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`code`, ' - ', `kinds2`.`name`), '') as 'typeDoc', `orders`.`multiOrder` as 'multiOrder', IF(    CHAR_LENGTH(`companies2`.`companyName`), CONCAT_WS('',   `companies2`.`companyName`), '') as 'customer', IF(    CHAR_LENGTH(`contacts1`.`name`), CONCAT_WS('',   `contacts1`.`name`), '') as 'employee', if(`orders`.`date`,date_format(`orders`.`date`,'%d/%m/%Y'),'') as 'date', if(`orders`.`requiredDate`,date_format(`orders`.`requiredDate`,'%d/%m/%Y'),'') as 'requiredDate', if(`orders`.`shippedDate`,date_format(`orders`.`shippedDate`,'%d/%m/%Y'),'') as 'shippedDate', IF(    CHAR_LENGTH(`companies3`.`companyName`), CONCAT_WS('',   `companies3`.`companyName`), '') as 'shipVia', `orders`.`Freight` as 'Freight', `orders`.`pallets` as 'pallets', `orders`.`licencePlate` as 'licencePlate', `orders`.`orderTotal` as 'orderTotal', concat('<i class=\"glyphicon glyphicon-', if(`orders`.`cashCredit`, 'check', 'unchecked'), '\"></i>') as 'cashCredit', `orders`.`trust` as 'trust', `orders`.`overdraft` as 'overdraft', `orders`.`commisionFee` as 'commisionFee', if(`orders`.`consigneeHour`,date_format(`orders`.`consigneeHour`,'%d/%m/%Y %h:%i %p'),'') as 'consigneeHour', `orders`.`consigneePlace` as 'consigneePlace' FROM `orders` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`orders`.`kind` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`orders`.`company` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`orders`.`typeDoc` LEFT JOIN `companies` as companies2 ON `companies2`.`id`=`orders`.`customer` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`orders`.`employee` LEFT JOIN `companies` as companies3 ON `companies3`.`id`=`orders`.`shipVia` "
				),
				'customer' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Ordini',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/cart_remove.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(0 => 'id', 1 => 'Kind Order', 5 => 'ID Azienda', 6 => 'Tipo documento', 7 => 'Numero documento', 8 => 'Cliente', 10 => 'Data Ordine', 12 => 'Data di spedizione', 13 => 'Spedizione a mezzo', 15 => 'Pallets', 16 => 'Targa Automezzo', 17 => 'Totale ordine', 18 => 'Credito o cassa', 19 => 'Fido Cliente', 20 => 'Scoperto Cliente', 21 => 'Provvigione su ordine', 22 => 'Ora di consegna', 23 => 'Luogo consegna'),
					'display-field-names' => array(0 => 'id', 1 => 'kind', 5 => 'company', 6 => 'typeDoc', 7 => 'multiOrder', 8 => 'customer', 10 => 'date', 12 => 'shippedDate', 13 => 'shipVia', 15 => 'pallets', 16 => 'licencePlate', 17 => 'orderTotal', 18 => 'cashCredit', 19 => 'trust', 20 => 'overdraft', 21 => 'commisionFee', 22 => 'consigneeHour', 23 => 'consigneePlace'),
					'sortable-fields' => array(0 => '`orders`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`orders`.`multiOrder`', 8 => '`companies2`.`companyName`', 9 => '`contacts1`.`name`', 10 => '`orders`.`date`', 11 => '`orders`.`requiredDate`', 12 => '`orders`.`shippedDate`', 13 => '`companies3`.`companyName`', 14 => '`orders`.`Freight`', 15 => '`orders`.`pallets`', 16 => 17, 17 => '`orders`.`orderTotal`', 18 => 19, 19 => '`orders`.`trust`', 20 => '`orders`.`overdraft`', 21 => '`orders`.`commisionFee`', 22 => '`orders`.`consigneeHour`', 23 => 24),
					'records-per-page' => 10,
					'default-sort-by' => 7,
					'default-sort-direction' => 'desc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-orders',
					'template-printable' => 'children-orders-printable',
					'query' => "SELECT `orders`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `orders`.`progressiveNr` as 'progressiveNr', `orders`.`trasmissionFor` as 'trasmissionFor', `orders`.`consigneeID` as 'consigneeID', IF(    CHAR_LENGTH(`companies1`.`companyCode`) || CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyCode`, ' - ', `companies1`.`companyName`), '') as 'company', IF(    CHAR_LENGTH(`kinds2`.`code`) || CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`code`, ' - ', `kinds2`.`name`), '') as 'typeDoc', `orders`.`multiOrder` as 'multiOrder', IF(    CHAR_LENGTH(`companies2`.`companyName`), CONCAT_WS('',   `companies2`.`companyName`), '') as 'customer', IF(    CHAR_LENGTH(`contacts1`.`name`), CONCAT_WS('',   `contacts1`.`name`), '') as 'employee', if(`orders`.`date`,date_format(`orders`.`date`,'%d/%m/%Y'),'') as 'date', if(`orders`.`requiredDate`,date_format(`orders`.`requiredDate`,'%d/%m/%Y'),'') as 'requiredDate', if(`orders`.`shippedDate`,date_format(`orders`.`shippedDate`,'%d/%m/%Y'),'') as 'shippedDate', IF(    CHAR_LENGTH(`companies3`.`companyName`), CONCAT_WS('',   `companies3`.`companyName`), '') as 'shipVia', `orders`.`Freight` as 'Freight', `orders`.`pallets` as 'pallets', `orders`.`licencePlate` as 'licencePlate', `orders`.`orderTotal` as 'orderTotal', concat('<i class=\"glyphicon glyphicon-', if(`orders`.`cashCredit`, 'check', 'unchecked'), '\"></i>') as 'cashCredit', `orders`.`trust` as 'trust', `orders`.`overdraft` as 'overdraft', `orders`.`commisionFee` as 'commisionFee', if(`orders`.`consigneeHour`,date_format(`orders`.`consigneeHour`,'%d/%m/%Y %h:%i %p'),'') as 'consigneeHour', `orders`.`consigneePlace` as 'consigneePlace' FROM `orders` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`orders`.`kind` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`orders`.`company` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`orders`.`typeDoc` LEFT JOIN `companies` as companies2 ON `companies2`.`id`=`orders`.`customer` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`orders`.`employee` LEFT JOIN `companies` as companies3 ON `companies3`.`id`=`orders`.`shipVia` "
				),
				'employee' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Ordini vendita',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/cart_remove.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(0 => 'id', 1 => 'Kind Order', 5 => 'ID Azienda', 6 => 'Tipo documento', 7 => 'Numero documento', 8 => 'Cliente', 10 => 'Data Ordine', 12 => 'Data di spedizione', 13 => 'Spedizione a mezzo', 15 => 'Pallets', 16 => 'Targa Automezzo', 17 => 'Totale ordine', 18 => 'Credito o cassa', 19 => 'Fido Cliente', 20 => 'Scoperto Cliente', 21 => 'Provvigione su ordine', 22 => 'Ora di consegna', 23 => 'Luogo consegna'),
					'display-field-names' => array(0 => 'id', 1 => 'kind', 5 => 'company', 6 => 'typeDoc', 7 => 'multiOrder', 8 => 'customer', 10 => 'date', 12 => 'shippedDate', 13 => 'shipVia', 15 => 'pallets', 16 => 'licencePlate', 17 => 'orderTotal', 18 => 'cashCredit', 19 => 'trust', 20 => 'overdraft', 21 => 'commisionFee', 22 => 'consigneeHour', 23 => 'consigneePlace'),
					'sortable-fields' => array(0 => '`orders`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`orders`.`multiOrder`', 8 => '`companies2`.`companyName`', 9 => '`contacts1`.`name`', 10 => '`orders`.`date`', 11 => '`orders`.`requiredDate`', 12 => '`orders`.`shippedDate`', 13 => '`companies3`.`companyName`', 14 => '`orders`.`Freight`', 15 => '`orders`.`pallets`', 16 => 17, 17 => '`orders`.`orderTotal`', 18 => 19, 19 => '`orders`.`trust`', 20 => '`orders`.`overdraft`', 21 => '`orders`.`commisionFee`', 22 => '`orders`.`consigneeHour`', 23 => 24),
					'records-per-page' => 10,
					'default-sort-by' => 7,
					'default-sort-direction' => 'desc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-orders',
					'template-printable' => 'children-orders-printable',
					'query' => "SELECT `orders`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `orders`.`progressiveNr` as 'progressiveNr', `orders`.`trasmissionFor` as 'trasmissionFor', `orders`.`consigneeID` as 'consigneeID', IF(    CHAR_LENGTH(`companies1`.`companyCode`) || CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyCode`, ' - ', `companies1`.`companyName`), '') as 'company', IF(    CHAR_LENGTH(`kinds2`.`code`) || CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`code`, ' - ', `kinds2`.`name`), '') as 'typeDoc', `orders`.`multiOrder` as 'multiOrder', IF(    CHAR_LENGTH(`companies2`.`companyName`), CONCAT_WS('',   `companies2`.`companyName`), '') as 'customer', IF(    CHAR_LENGTH(`contacts1`.`name`), CONCAT_WS('',   `contacts1`.`name`), '') as 'employee', if(`orders`.`date`,date_format(`orders`.`date`,'%d/%m/%Y'),'') as 'date', if(`orders`.`requiredDate`,date_format(`orders`.`requiredDate`,'%d/%m/%Y'),'') as 'requiredDate', if(`orders`.`shippedDate`,date_format(`orders`.`shippedDate`,'%d/%m/%Y'),'') as 'shippedDate', IF(    CHAR_LENGTH(`companies3`.`companyName`), CONCAT_WS('',   `companies3`.`companyName`), '') as 'shipVia', `orders`.`Freight` as 'Freight', `orders`.`pallets` as 'pallets', `orders`.`licencePlate` as 'licencePlate', `orders`.`orderTotal` as 'orderTotal', concat('<i class=\"glyphicon glyphicon-', if(`orders`.`cashCredit`, 'check', 'unchecked'), '\"></i>') as 'cashCredit', `orders`.`trust` as 'trust', `orders`.`overdraft` as 'overdraft', `orders`.`commisionFee` as 'commisionFee', if(`orders`.`consigneeHour`,date_format(`orders`.`consigneeHour`,'%d/%m/%Y %h:%i %p'),'') as 'consigneeHour', `orders`.`consigneePlace` as 'consigneePlace' FROM `orders` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`orders`.`kind` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`orders`.`company` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`orders`.`typeDoc` LEFT JOIN `companies` as companies2 ON `companies2`.`id`=`orders`.`customer` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`orders`.`employee` LEFT JOIN `companies` as companies3 ON `companies3`.`id`=`orders`.`shipVia` "
				),
				'shipVia' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Ordini',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/cart_remove.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(0 => 'id', 1 => 'Kind Order', 5 => 'ID Azienda', 6 => 'Tipo documento', 7 => 'Numero documento', 8 => 'Cliente', 10 => 'Data Ordine', 12 => 'Data di spedizione', 13 => 'Spedizione a mezzo', 15 => 'Pallets', 16 => 'Targa Automezzo', 17 => 'Totale ordine', 18 => 'Credito o cassa', 19 => 'Fido Cliente', 20 => 'Scoperto Cliente', 21 => 'Provvigione su ordine', 22 => 'Ora di consegna', 23 => 'Luogo consegna'),
					'display-field-names' => array(0 => 'id', 1 => 'kind', 5 => 'company', 6 => 'typeDoc', 7 => 'multiOrder', 8 => 'customer', 10 => 'date', 12 => 'shippedDate', 13 => 'shipVia', 15 => 'pallets', 16 => 'licencePlate', 17 => 'orderTotal', 18 => 'cashCredit', 19 => 'trust', 20 => 'overdraft', 21 => 'commisionFee', 22 => 'consigneeHour', 23 => 'consigneePlace'),
					'sortable-fields' => array(0 => '`orders`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`orders`.`multiOrder`', 8 => '`companies2`.`companyName`', 9 => '`contacts1`.`name`', 10 => '`orders`.`date`', 11 => '`orders`.`requiredDate`', 12 => '`orders`.`shippedDate`', 13 => '`companies3`.`companyName`', 14 => '`orders`.`Freight`', 15 => '`orders`.`pallets`', 16 => 17, 17 => '`orders`.`orderTotal`', 18 => 19, 19 => '`orders`.`trust`', 20 => '`orders`.`overdraft`', 21 => '`orders`.`commisionFee`', 22 => '`orders`.`consigneeHour`', 23 => 24),
					'records-per-page' => 10,
					'default-sort-by' => 7,
					'default-sort-direction' => 'desc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-orders',
					'template-printable' => 'children-orders-printable',
					'query' => "SELECT `orders`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `orders`.`progressiveNr` as 'progressiveNr', `orders`.`trasmissionFor` as 'trasmissionFor', `orders`.`consigneeID` as 'consigneeID', IF(    CHAR_LENGTH(`companies1`.`companyCode`) || CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyCode`, ' - ', `companies1`.`companyName`), '') as 'company', IF(    CHAR_LENGTH(`kinds2`.`code`) || CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`code`, ' - ', `kinds2`.`name`), '') as 'typeDoc', `orders`.`multiOrder` as 'multiOrder', IF(    CHAR_LENGTH(`companies2`.`companyName`), CONCAT_WS('',   `companies2`.`companyName`), '') as 'customer', IF(    CHAR_LENGTH(`contacts1`.`name`), CONCAT_WS('',   `contacts1`.`name`), '') as 'employee', if(`orders`.`date`,date_format(`orders`.`date`,'%d/%m/%Y'),'') as 'date', if(`orders`.`requiredDate`,date_format(`orders`.`requiredDate`,'%d/%m/%Y'),'') as 'requiredDate', if(`orders`.`shippedDate`,date_format(`orders`.`shippedDate`,'%d/%m/%Y'),'') as 'shippedDate', IF(    CHAR_LENGTH(`companies3`.`companyName`), CONCAT_WS('',   `companies3`.`companyName`), '') as 'shipVia', `orders`.`Freight` as 'Freight', `orders`.`pallets` as 'pallets', `orders`.`licencePlate` as 'licencePlate', `orders`.`orderTotal` as 'orderTotal', concat('<i class=\"glyphicon glyphicon-', if(`orders`.`cashCredit`, 'check', 'unchecked'), '\"></i>') as 'cashCredit', `orders`.`trust` as 'trust', `orders`.`overdraft` as 'overdraft', `orders`.`commisionFee` as 'commisionFee', if(`orders`.`consigneeHour`,date_format(`orders`.`consigneeHour`,'%d/%m/%Y %h:%i %p'),'') as 'consigneeHour', `orders`.`consigneePlace` as 'consigneePlace' FROM `orders` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`orders`.`kind` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`orders`.`company` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`orders`.`typeDoc` LEFT JOIN `companies` as companies2 ON `companies2`.`id`=`orders`.`customer` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`orders`.`employee` LEFT JOIN `companies` as companies3 ON `companies3`.`id`=`orders`.`shipVia` "
				)
			),
			'ordersDetails' => array(   
				'order' => array(   
					'parent-table' => 'orders',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Articoli dell\'ordine',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/calendar_view_month.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(2 => 'Data produzione', 3 => 'Data vendita', 7 => 'UM', 8 => 'Codice prodotto', 10 => 'Colli', 11 => 'Es. Colli', 12 => 'Peso partenza', 13 => 'Peso riscontrato', 14 => 'Prezzo unitario', 15 => 'Imponibile', 16 => 'Imposta', 17 => 'Sconto', 18 => 'SubTotale', 20 => 'Tipo transazione', 22 => 'Prezzo medio giorno', 23 => 'Peso medio giorno', 24 => 'Provvigione', 25 => 'Includi commissione', 26 => 'SupplierCode'),
					'display-field-names' => array(2 => 'manufactureDate', 3 => 'sellDate', 7 => 'UM', 8 => 'productCode', 10 => 'packages', 11 => 'noSell', 12 => 'Quantity', 13 => 'QuantityReal', 14 => 'UnitPrice', 15 => 'Subtotal', 16 => 'taxes', 17 => 'Discount', 18 => 'LineTotal', 20 => 'transaction_type', 22 => 'averagePrice', 23 => 'averageWeight', 24 => 'commission', 25 => 'return', 26 => 'supplierCode'),
					'sortable-fields' => array(0 => '`ordersDetails`.`id`', 1 => '`orders1`.`id`', 2 => '`ordersDetails`.`manufactureDate`', 3 => '`ordersDetails`.`sellDate`', 4 => '`ordersDetails`.`expiryDate`', 5 => '`ordersDetails`.`daysToExpiry`', 6 => '`products1`.`codebar`', 7 => '`products1`.`UM`', 8 => '`products1`.`productCode`', 9 => 10, 10 => '`ordersDetails`.`packages`', 11 => '`ordersDetails`.`noSell`', 12 => '`ordersDetails`.`Quantity`', 13 => '`ordersDetails`.`QuantityReal`', 14 => '`ordersDetails`.`UnitPrice`', 15 => '`ordersDetails`.`Subtotal`', 16 => '`ordersDetails`.`taxes`', 17 => '`ordersDetails`.`Discount`', 18 => '`ordersDetails`.`LineTotal`', 19 => '`kinds1`.`code`', 20 => 21, 21 => '`ordersDetails`.`skBatches`', 22 => '`ordersDetails`.`averagePrice`', 23 => '`ordersDetails`.`averageWeight`', 24 => '`ordersDetails`.`commission`', 25 => 26, 26 => 27),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-ordersDetails',
					'template-printable' => 'children-ordersDetails-printable',
					'query' => "SELECT `ordersDetails`.`id` as 'id', IF(    CHAR_LENGTH(`orders1`.`id`), CONCAT_WS('',   `orders1`.`id`), '') as 'order', if(`ordersDetails`.`manufactureDate`,date_format(`ordersDetails`.`manufactureDate`,'%d/%m/%Y'),'') as 'manufactureDate', if(`ordersDetails`.`sellDate`,date_format(`ordersDetails`.`sellDate`,'%d/%m/%Y'),'') as 'sellDate', if(`ordersDetails`.`expiryDate`,date_format(`ordersDetails`.`expiryDate`,'%d/%m/%Y'),'') as 'expiryDate', `ordersDetails`.`daysToExpiry` as 'daysToExpiry', IF(    CHAR_LENGTH(`products1`.`codebar`), CONCAT_WS('',   `products1`.`codebar`), '') as 'codebar', IF(    CHAR_LENGTH(`products1`.`UM`), CONCAT_WS('',   `products1`.`UM`), '') as 'UM', IF(    CHAR_LENGTH(`products1`.`productCode`), CONCAT_WS('',   `products1`.`productCode`), '') as 'productCode', IF(    CHAR_LENGTH(`products1`.`productCode`) || CHAR_LENGTH(`products1`.`id`), CONCAT_WS('',   `products1`.`productCode`, '-', `products1`.`id`), '') as 'batch', `ordersDetails`.`packages` as 'packages', `ordersDetails`.`noSell` as 'noSell', `ordersDetails`.`Quantity` as 'Quantity', `ordersDetails`.`QuantityReal` as 'QuantityReal', CONCAT('&euro;', FORMAT(`ordersDetails`.`UnitPrice`, 2)) as 'UnitPrice', CONCAT('&euro;', FORMAT(`ordersDetails`.`Subtotal`, 2)) as 'Subtotal', CONCAT('&euro;', FORMAT(`ordersDetails`.`taxes`, 2)) as 'taxes', CONCAT('&euro;', FORMAT(`ordersDetails`.`Discount`, 2)) as 'Discount', CONCAT('&euro;', FORMAT(`ordersDetails`.`LineTotal`, 2)) as 'LineTotal', IF(    CHAR_LENGTH(`kinds1`.`code`), CONCAT_WS('',   `kinds1`.`code`), '') as 'section', `ordersDetails`.`transaction_type` as 'transaction_type', `ordersDetails`.`skBatches` as 'skBatches', `ordersDetails`.`averagePrice` as 'averagePrice', `ordersDetails`.`averageWeight` as 'averageWeight', `ordersDetails`.`commission` as 'commission', concat('<i class=\"glyphicon glyphicon-', if(`ordersDetails`.`return`, 'check', 'unchecked'), '\"></i>') as 'return', `ordersDetails`.`supplierCode` as 'supplierCode' FROM `ordersDetails` LEFT JOIN `orders` as orders1 ON `orders1`.`id`=`ordersDetails`.`order` LEFT JOIN `products` as products1 ON `products1`.`id`=`ordersDetails`.`productCode` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`ordersDetails`.`section` "
				),
				'productCode' => array(   
					'parent-table' => 'products',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Ordini Out',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/calendar_view_month.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(2 => 'Data produzione', 3 => 'Data vendita', 7 => 'UM', 8 => 'Codice prodotto', 10 => 'Colli', 11 => 'Es. Colli', 12 => 'Peso partenza', 13 => 'Peso riscontrato', 14 => 'Prezzo unitario', 15 => 'Imponibile', 16 => 'Imposta', 17 => 'Sconto', 18 => 'SubTotale', 20 => 'Tipo transazione', 22 => 'Prezzo medio giorno', 23 => 'Peso medio giorno', 24 => 'Provvigione', 25 => 'Includi commissione', 26 => 'SupplierCode'),
					'display-field-names' => array(2 => 'manufactureDate', 3 => 'sellDate', 7 => 'UM', 8 => 'productCode', 10 => 'packages', 11 => 'noSell', 12 => 'Quantity', 13 => 'QuantityReal', 14 => 'UnitPrice', 15 => 'Subtotal', 16 => 'taxes', 17 => 'Discount', 18 => 'LineTotal', 20 => 'transaction_type', 22 => 'averagePrice', 23 => 'averageWeight', 24 => 'commission', 25 => 'return', 26 => 'supplierCode'),
					'sortable-fields' => array(0 => '`ordersDetails`.`id`', 1 => '`orders1`.`id`', 2 => '`ordersDetails`.`manufactureDate`', 3 => '`ordersDetails`.`sellDate`', 4 => '`ordersDetails`.`expiryDate`', 5 => '`ordersDetails`.`daysToExpiry`', 6 => '`products1`.`codebar`', 7 => '`products1`.`UM`', 8 => '`products1`.`productCode`', 9 => 10, 10 => '`ordersDetails`.`packages`', 11 => '`ordersDetails`.`noSell`', 12 => '`ordersDetails`.`Quantity`', 13 => '`ordersDetails`.`QuantityReal`', 14 => '`ordersDetails`.`UnitPrice`', 15 => '`ordersDetails`.`Subtotal`', 16 => '`ordersDetails`.`taxes`', 17 => '`ordersDetails`.`Discount`', 18 => '`ordersDetails`.`LineTotal`', 19 => '`kinds1`.`code`', 20 => 21, 21 => '`ordersDetails`.`skBatches`', 22 => '`ordersDetails`.`averagePrice`', 23 => '`ordersDetails`.`averageWeight`', 24 => '`ordersDetails`.`commission`', 25 => 26, 26 => 27),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-ordersDetails',
					'template-printable' => 'children-ordersDetails-printable',
					'query' => "SELECT `ordersDetails`.`id` as 'id', IF(    CHAR_LENGTH(`orders1`.`id`), CONCAT_WS('',   `orders1`.`id`), '') as 'order', if(`ordersDetails`.`manufactureDate`,date_format(`ordersDetails`.`manufactureDate`,'%d/%m/%Y'),'') as 'manufactureDate', if(`ordersDetails`.`sellDate`,date_format(`ordersDetails`.`sellDate`,'%d/%m/%Y'),'') as 'sellDate', if(`ordersDetails`.`expiryDate`,date_format(`ordersDetails`.`expiryDate`,'%d/%m/%Y'),'') as 'expiryDate', `ordersDetails`.`daysToExpiry` as 'daysToExpiry', IF(    CHAR_LENGTH(`products1`.`codebar`), CONCAT_WS('',   `products1`.`codebar`), '') as 'codebar', IF(    CHAR_LENGTH(`products1`.`UM`), CONCAT_WS('',   `products1`.`UM`), '') as 'UM', IF(    CHAR_LENGTH(`products1`.`productCode`), CONCAT_WS('',   `products1`.`productCode`), '') as 'productCode', IF(    CHAR_LENGTH(`products1`.`productCode`) || CHAR_LENGTH(`products1`.`id`), CONCAT_WS('',   `products1`.`productCode`, '-', `products1`.`id`), '') as 'batch', `ordersDetails`.`packages` as 'packages', `ordersDetails`.`noSell` as 'noSell', `ordersDetails`.`Quantity` as 'Quantity', `ordersDetails`.`QuantityReal` as 'QuantityReal', CONCAT('&euro;', FORMAT(`ordersDetails`.`UnitPrice`, 2)) as 'UnitPrice', CONCAT('&euro;', FORMAT(`ordersDetails`.`Subtotal`, 2)) as 'Subtotal', CONCAT('&euro;', FORMAT(`ordersDetails`.`taxes`, 2)) as 'taxes', CONCAT('&euro;', FORMAT(`ordersDetails`.`Discount`, 2)) as 'Discount', CONCAT('&euro;', FORMAT(`ordersDetails`.`LineTotal`, 2)) as 'LineTotal', IF(    CHAR_LENGTH(`kinds1`.`code`), CONCAT_WS('',   `kinds1`.`code`), '') as 'section', `ordersDetails`.`transaction_type` as 'transaction_type', `ordersDetails`.`skBatches` as 'skBatches', `ordersDetails`.`averagePrice` as 'averagePrice', `ordersDetails`.`averageWeight` as 'averageWeight', `ordersDetails`.`commission` as 'commission', concat('<i class=\"glyphicon glyphicon-', if(`ordersDetails`.`return`, 'check', 'unchecked'), '\"></i>') as 'return', `ordersDetails`.`supplierCode` as 'supplierCode' FROM `ordersDetails` LEFT JOIN `orders` as orders1 ON `orders1`.`id`=`ordersDetails`.`order` LEFT JOIN `products` as products1 ON `products1`.`id`=`ordersDetails`.`productCode` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`ordersDetails`.`section` "
				)
			),
			'products' => array(   
				'tax' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Articoli Magazzino',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/installer_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Codebar', 2 => 'Codice prodotto', 3 => 'Descrizione Prodotto', 4 => 'Aliquota', 5 => 'Ricarico %', 6 => 'Categoria', 7 => 'UM', 8 => 'Tara', 10 => 'Prezzo Acquisto', 11 => 'Prezzo Vendita', 15 => 'Giacenza', 16 => 'Discontinuo', 17 => 'Manufactured date', 18 => 'Expiry date', 19 => 'Note', 20 => 'Update date'),
					'display-field-names' => array(1 => 'codebar', 2 => 'productCode', 3 => 'productName', 4 => 'tax', 5 => 'increment', 6 => 'CategoryID', 7 => 'UM', 8 => 'tare', 10 => 'UnitPrice', 11 => 'sellPrice', 15 => 'balance', 16 => 'Discontinued', 17 => 'manufactured_date', 18 => 'expiry_date', 19 => 'note', 20 => 'update_date'),
					'sortable-fields' => array(0 => '`products`.`id`', 1 => 2, 2 => 3, 3 => 4, 4 => '`kinds1`.`name`', 5 => '`products`.`increment`', 6 => '`kinds2`.`name`', 7 => 8, 8 => '`products`.`tare`', 9 => 10, 10 => '`products`.`UnitPrice`', 11 => '`products`.`sellPrice`', 12 => '`products`.`UnitsInStock`', 13 => '`products`.`UnitsOnOrder`', 14 => '`products`.`ReorderLevel`', 15 => '`products`.`balance`', 16 => '`products`.`Discontinued`', 17 => '`products`.`manufactured_date`', 18 => '`products`.`expiry_date`', 19 => 20, 20 => '`products`.`update_date`'),
					'records-per-page' => 10,
					'default-sort-by' => 3,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-products',
					'template-printable' => 'children-products-printable',
					'query' => "SELECT `products`.`id` as 'id', `products`.`codebar` as 'codebar', `products`.`productCode` as 'productCode', `products`.`productName` as 'productName', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'tax', `products`.`increment` as 'increment', IF(    CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`name`), '') as 'CategoryID', `products`.`UM` as 'UM', `products`.`tare` as 'tare', `products`.`QuantityPerUnit` as 'QuantityPerUnit', CONCAT('&euro;', FORMAT(`products`.`UnitPrice`, 2)) as 'UnitPrice', CONCAT('&euro;', FORMAT(`products`.`sellPrice`, 2)) as 'sellPrice', `products`.`UnitsInStock` as 'UnitsInStock', `products`.`UnitsOnOrder` as 'UnitsOnOrder', `products`.`ReorderLevel` as 'ReorderLevel', `products`.`balance` as 'balance', concat('<i class=\"glyphicon glyphicon-', if(`products`.`Discontinued`, 'check', 'unchecked'), '\"></i>') as 'Discontinued', if(`products`.`manufactured_date`,date_format(`products`.`manufactured_date`,'%d/%m/%Y'),'') as 'manufactured_date', if(`products`.`expiry_date`,date_format(`products`.`expiry_date`,'%d/%m/%Y'),'') as 'expiry_date', `products`.`note` as 'note', if(`products`.`update_date`,date_format(`products`.`update_date`,'%d/%m/%Y %h:%i %p'),'') as 'update_date' FROM `products` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`products`.`tax` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`products`.`CategoryID` "
				),
				'CategoryID' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Articoli Magazzino',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/installer_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Codebar', 2 => 'Codice prodotto', 3 => 'Descrizione Prodotto', 4 => 'Aliquota', 5 => 'Ricarico %', 6 => 'Categoria', 7 => 'UM', 8 => 'Tara', 10 => 'Prezzo Acquisto', 11 => 'Prezzo Vendita', 15 => 'Giacenza', 16 => 'Discontinuo', 17 => 'Manufactured date', 18 => 'Expiry date', 19 => 'Note', 20 => 'Update date'),
					'display-field-names' => array(1 => 'codebar', 2 => 'productCode', 3 => 'productName', 4 => 'tax', 5 => 'increment', 6 => 'CategoryID', 7 => 'UM', 8 => 'tare', 10 => 'UnitPrice', 11 => 'sellPrice', 15 => 'balance', 16 => 'Discontinued', 17 => 'manufactured_date', 18 => 'expiry_date', 19 => 'note', 20 => 'update_date'),
					'sortable-fields' => array(0 => '`products`.`id`', 1 => 2, 2 => 3, 3 => 4, 4 => '`kinds1`.`name`', 5 => '`products`.`increment`', 6 => '`kinds2`.`name`', 7 => 8, 8 => '`products`.`tare`', 9 => 10, 10 => '`products`.`UnitPrice`', 11 => '`products`.`sellPrice`', 12 => '`products`.`UnitsInStock`', 13 => '`products`.`UnitsOnOrder`', 14 => '`products`.`ReorderLevel`', 15 => '`products`.`balance`', 16 => '`products`.`Discontinued`', 17 => '`products`.`manufactured_date`', 18 => '`products`.`expiry_date`', 19 => 20, 20 => '`products`.`update_date`'),
					'records-per-page' => 10,
					'default-sort-by' => 3,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-products',
					'template-printable' => 'children-products-printable',
					'query' => "SELECT `products`.`id` as 'id', `products`.`codebar` as 'codebar', `products`.`productCode` as 'productCode', `products`.`productName` as 'productName', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'tax', `products`.`increment` as 'increment', IF(    CHAR_LENGTH(`kinds2`.`name`), CONCAT_WS('',   `kinds2`.`name`), '') as 'CategoryID', `products`.`UM` as 'UM', `products`.`tare` as 'tare', `products`.`QuantityPerUnit` as 'QuantityPerUnit', CONCAT('&euro;', FORMAT(`products`.`UnitPrice`, 2)) as 'UnitPrice', CONCAT('&euro;', FORMAT(`products`.`sellPrice`, 2)) as 'sellPrice', `products`.`UnitsInStock` as 'UnitsInStock', `products`.`UnitsOnOrder` as 'UnitsOnOrder', `products`.`ReorderLevel` as 'ReorderLevel', `products`.`balance` as 'balance', concat('<i class=\"glyphicon glyphicon-', if(`products`.`Discontinued`, 'check', 'unchecked'), '\"></i>') as 'Discontinued', if(`products`.`manufactured_date`,date_format(`products`.`manufactured_date`,'%d/%m/%Y'),'') as 'manufactured_date', if(`products`.`expiry_date`,date_format(`products`.`expiry_date`,'%d/%m/%Y'),'') as 'expiry_date', `products`.`note` as 'note', if(`products`.`update_date`,date_format(`products`.`update_date`,'%d/%m/%Y %h:%i %p'),'') as 'update_date' FROM `products` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`products`.`tax` LEFT JOIN `kinds` as kinds2 ON `kinds2`.`code`=`products`.`CategoryID` "
				)
			),
			'firstCashNote' => array(   
				'order' => array(   
					'parent-table' => 'orders',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Prima Nota',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/data_sort.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Order', 2 => 'Data operazione', 3 => 'Numero ordine', 4 => 'Causale', 5 => 'Entrate', 6 => 'Uscite', 7 => 'Bilancio', 9 => 'Banca', 10 => 'Note pagamento', 11 => 'Pagamento in data', 12 => 'Pagato SI/NO'),
					'display-field-names' => array(1 => 'order', 2 => 'operationDate', 3 => 'documentNumber', 4 => 'causal', 5 => 'revenue', 6 => 'outputs', 7 => 'balance', 9 => 'bank', 10 => 'note', 11 => 'paymentDeadLine', 12 => 'payed'),
					'sortable-fields' => array(0 => '`firstCashNote`.`id`', 1 => '`orders1`.`id`', 2 => '`firstCashNote`.`operationDate`', 3 => '`firstCashNote`.`documentNumber`', 4 => 5, 5 => '`firstCashNote`.`revenue`', 6 => '`firstCashNote`.`outputs`', 7 => '`firstCashNote`.`balance`', 8 => '`firstCashNote`.`idBank`', 9 => '`firstCashNote`.`bank`', 10 => 11, 11 => '`firstCashNote`.`paymentDeadLine`', 12 => 13),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-firstCashNote',
					'template-printable' => 'children-firstCashNote-printable',
					'query' => "SELECT `firstCashNote`.`id` as 'id', IF(    CHAR_LENGTH(`orders1`.`id`), CONCAT_WS('',   `orders1`.`id`), '') as 'order', if(`firstCashNote`.`operationDate`,date_format(`firstCashNote`.`operationDate`,'%d/%m/%Y'),'') as 'operationDate', `firstCashNote`.`documentNumber` as 'documentNumber', `firstCashNote`.`causal` as 'causal', `firstCashNote`.`revenue` as 'revenue', `firstCashNote`.`outputs` as 'outputs', `firstCashNote`.`balance` as 'balance', `firstCashNote`.`idBank` as 'idBank', `firstCashNote`.`bank` as 'bank', `firstCashNote`.`note` as 'note', if(`firstCashNote`.`paymentDeadLine`,date_format(`firstCashNote`.`paymentDeadLine`,'%d/%m/%Y'),'') as 'paymentDeadLine', concat('<i class=\"glyphicon glyphicon-', if(`firstCashNote`.`payed`, 'check', 'unchecked'), '\"></i>') as 'payed' FROM `firstCashNote` LEFT JOIN `orders` as orders1 ON `orders1`.`id`=`firstCashNote`.`order` "
				)
			),
			'vatRegister' => array(   
				'idCompany' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Registro Corrispettivi',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/book_spelling.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'ID Azienda', 2 => 'Esercizio commerciale', 3 => 'Aliquota riferimento', 4 => 'Mese corrispettivi', 5 => 'Anno', 6 => 'Importo'),
					'display-field-names' => array(1 => 'idCompany', 2 => 'companyName', 3 => 'tax', 4 => 'month', 5 => 'year', 6 => 'amount'),
					'sortable-fields' => array(0 => '`vatRegister`.`id`', 1 => '`companies1`.`companyCode`', 2 => '`companies1`.`companyName`', 3 => 4, 4 => 5, 5 => 6, 6 => '`vatRegister`.`amount`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-vatRegister',
					'template-printable' => 'children-vatRegister-printable',
					'query' => "SELECT `vatRegister`.`id` as 'id', IF(    CHAR_LENGTH(`companies1`.`companyCode`), CONCAT_WS('',   `companies1`.`companyCode`), '') as 'idCompany', IF(    CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyName`), '') as 'companyName', `vatRegister`.`tax` as 'tax', `vatRegister`.`month` as 'month', `vatRegister`.`year` as 'year', `vatRegister`.`amount` as 'amount' FROM `vatRegister` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`vatRegister`.`idCompany` "
				)
			),
			'companies' => array(   
				'kind' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Companies',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/factory.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'CompanyCode', 3 => 'CompanyName', 4 => 'FiscalCode', 5 => 'Vat', 6 => 'Notes'),
					'display-field-names' => array(1 => 'kind', 2 => 'companyCode', 3 => 'companyName', 4 => 'fiscalCode', 5 => 'vat', 6 => 'notes'),
					'sortable-fields' => array(0 => '`companies`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-companies',
					'template-printable' => 'children-companies-printable',
					'query' => "SELECT `companies`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `companies`.`companyCode` as 'companyCode', `companies`.`companyName` as 'companyName', `companies`.`fiscalCode` as 'fiscalCode', `companies`.`vat` as 'vat', `companies`.`notes` as 'notes' FROM `companies` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`companies`.`kind` "
				)
			),
			'contacts' => array(   
				'kind' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Contacts',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/client_account_template.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Title Of Courtesy', 3 => 'Name', 4 => 'LastName', 5 => 'Notes', 6 => 'Title', 7 => 'Birth Date'),
					'display-field-names' => array(1 => 'kind', 2 => 'titleCourtesy', 3 => 'name', 4 => 'lastName', 5 => 'notes', 6 => 'title', 7 => 'birthDate'),
					'sortable-fields' => array(0 => '`contacts`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => '`contacts`.`birthDate`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-contacts',
					'template-printable' => 'children-contacts-printable',
					'query' => "SELECT `contacts`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `contacts`.`titleCourtesy` as 'titleCourtesy', `contacts`.`name` as 'name', `contacts`.`lastName` as 'lastName', `contacts`.`notes` as 'notes', `contacts`.`title` as 'title', if(`contacts`.`birthDate`,date_format(`contacts`.`birthDate`,'%d/%m/%Y %h:%i %p'),'') as 'birthDate' FROM `contacts` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`contacts`.`kind` "
				)
			),
			'creditDocument' => array(   
			),
			'electronicInvoice' => array(   
			),
			'countries' => array(   
			),
			'town' => array(   
				'country' => array(   
					'parent-table' => 'countries',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Comuni italiani',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/italy.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Country', 2 => 'IdIstat', 3 => 'Comune', 4 => 'Provincia', 5 => 'Regione', 6 => 'Prefisso', 7 => 'CAP', 8 => 'Codice Fisc.', 9 => 'Abitanti', 10 => 'Link'),
					'display-field-names' => array(1 => 'country', 2 => 'idIstat', 3 => 'town', 4 => 'district', 5 => 'region', 6 => 'prefix', 7 => 'shipCode', 8 => 'fiscCode', 9 => 'inhabitants', 10 => 'link'),
					'sortable-fields' => array(0 => '`town`.`id`', 1 => '`countries1`.`country`', 2 => 3, 3 => 4, 4 => 5, 5 => 6, 6 => 7, 7 => 8, 8 => 9, 9 => 10, 10 => 11),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-town',
					'template-printable' => 'children-town-printable',
					'query' => "SELECT `town`.`id` as 'id', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', `town`.`idIstat` as 'idIstat', `town`.`town` as 'town', `town`.`district` as 'district', `town`.`region` as 'region', `town`.`prefix` as 'prefix', `town`.`shipCode` as 'shipCode', `town`.`fiscCode` as 'fiscCode', `town`.`inhabitants` as 'inhabitants', `town`.`link` as 'link' FROM `town` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`town`.`country` "
				)
			),
			'GPSTrackingSystem' => array(   
			),
			'kinds' => array(   
			),
			'Logs' => array(   
			),
			'attributes' => array(   
				'attribute' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attributes',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/application_form_add.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Attribute', 2 => 'Value'),
					'display-field-names' => array(1 => 'attribute', 2 => 'value'),
					'sortable-fields' => array(0 => '`attributes`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => '`products1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attributes',
					'template-printable' => 'children-attributes-printable',
					'query' => "SELECT `attributes`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'attribute', `attributes`.`value` as 'value', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'companies', IF(    CHAR_LENGTH(`products1`.`id`), CONCAT_WS('',   `products1`.`id`), '') as 'products' FROM `attributes` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`attributes`.`attribute` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attributes`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attributes`.`companies` LEFT JOIN `products` as products1 ON `products1`.`id`=`attributes`.`products` "
				),
				'contact' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attributes',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/application_form_add.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Attribute', 2 => 'Value'),
					'display-field-names' => array(1 => 'attribute', 2 => 'value'),
					'sortable-fields' => array(0 => '`attributes`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => '`products1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attributes',
					'template-printable' => 'children-attributes-printable',
					'query' => "SELECT `attributes`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'attribute', `attributes`.`value` as 'value', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'companies', IF(    CHAR_LENGTH(`products1`.`id`), CONCAT_WS('',   `products1`.`id`), '') as 'products' FROM `attributes` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`attributes`.`attribute` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attributes`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attributes`.`companies` LEFT JOIN `products` as products1 ON `products1`.`id`=`attributes`.`products` "
				),
				'companies' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attributes',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/application_form_add.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Attribute', 2 => 'Value'),
					'display-field-names' => array(1 => 'attribute', 2 => 'value'),
					'sortable-fields' => array(0 => '`attributes`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => '`products1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attributes',
					'template-printable' => 'children-attributes-printable',
					'query' => "SELECT `attributes`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'attribute', `attributes`.`value` as 'value', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'companies', IF(    CHAR_LENGTH(`products1`.`id`), CONCAT_WS('',   `products1`.`id`), '') as 'products' FROM `attributes` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`attributes`.`attribute` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attributes`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attributes`.`companies` LEFT JOIN `products` as products1 ON `products1`.`id`=`attributes`.`products` "
				),
				'products' => array(   
					'parent-table' => 'products',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attributes',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/application_form_add.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Attribute', 2 => 'Value'),
					'display-field-names' => array(1 => 'attribute', 2 => 'value'),
					'sortable-fields' => array(0 => '`attributes`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => '`products1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attributes',
					'template-printable' => 'children-attributes-printable',
					'query' => "SELECT `attributes`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'attribute', `attributes`.`value` as 'value', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'companies', IF(    CHAR_LENGTH(`products1`.`id`), CONCAT_WS('',   `products1`.`id`), '') as 'products' FROM `attributes` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`attributes`.`attribute` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attributes`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attributes`.`companies` LEFT JOIN `products` as products1 ON `products1`.`id`=`attributes`.`products` "
				)
			),
			'addresses' => array(   
				'kind' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `addresses`.`address` as 'address', `addresses`.`houseNumber` as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				),
				'country' => array(   
					'parent-table' => 'countries',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => false,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `addresses`.`address` as 'address', `addresses`.`houseNumber` as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				),
				'town' => array(   
					'parent-table' => 'town',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `addresses`.`address` as 'address', `addresses`.`houseNumber` as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				),
				'district' => array(   
					'parent-table' => 'town',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `addresses`.`address` as 'address', `addresses`.`houseNumber` as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				),
				'contact' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `addresses`.`address` as 'address', `addresses`.`houseNumber` as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				),
				'company' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Addresses',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/mail_box.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Address', 3 => 'HouseNumber', 4 => 'Country', 5 => 'Town', 6 => 'PostalCode', 7 => 'District'),
					'display-field-names' => array(1 => 'kind', 2 => 'address', 3 => 'houseNumber', 4 => 'country', 5 => 'town', 6 => 'postalCode', 7 => 'district'),
					'sortable-fields' => array(0 => '`addresses`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => 4, 4 => '`countries1`.`country`', 5 => '`town1`.`town`', 6 => '`town1`.`shipCode`', 7 => '`town2`.`district`', 8 => '`contacts1`.`id`', 9 => '`companies1`.`id`', 10 => 11),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-addresses',
					'template-printable' => 'children-addresses-printable',
					'query' => "SELECT `addresses`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `addresses`.`address` as 'address', `addresses`.`houseNumber` as 'houseNumber', IF(    CHAR_LENGTH(`countries1`.`country`), CONCAT_WS('',   `countries1`.`country`), '') as 'country', IF(    CHAR_LENGTH(`town1`.`town`), CONCAT_WS('',   `town1`.`town`), '') as 'town', IF(    CHAR_LENGTH(`town1`.`shipCode`), CONCAT_WS('',   `town1`.`shipCode`), '') as 'postalCode', IF(    CHAR_LENGTH(`town2`.`district`), CONCAT_WS('',   `town2`.`district`), '') as 'district', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `addresses`.`map` as 'map' FROM `addresses` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`addresses`.`kind` LEFT JOIN `countries` as countries1 ON `countries1`.`id`=`addresses`.`country` LEFT JOIN `town` as town1 ON `town1`.`id`=`addresses`.`town` LEFT JOIN `town` as town2 ON `town2`.`id`=`addresses`.`district` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`addresses`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`addresses`.`company` "
				)
			),
			'phones' => array(   
				'kind' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Phones',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/phone.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'PhoneNumber'),
					'display-field-names' => array(1 => 'kind', 2 => 'phoneNumber'),
					'sortable-fields' => array(0 => '`phones`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-phones',
					'template-printable' => 'children-phones-printable',
					'query' => "SELECT `phones`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `phones`.`phoneNumber` as 'phoneNumber', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company' FROM `phones` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`phones`.`kind` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`phones`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`phones`.`company` "
				),
				'contact' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Phones',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/phone.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'PhoneNumber'),
					'display-field-names' => array(1 => 'kind', 2 => 'phoneNumber'),
					'sortable-fields' => array(0 => '`phones`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-phones',
					'template-printable' => 'children-phones-printable',
					'query' => "SELECT `phones`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `phones`.`phoneNumber` as 'phoneNumber', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company' FROM `phones` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`phones`.`kind` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`phones`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`phones`.`company` "
				),
				'company' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Phones',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/phone.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'PhoneNumber'),
					'display-field-names' => array(1 => 'kind', 2 => 'phoneNumber'),
					'sortable-fields' => array(0 => '`phones`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-phones',
					'template-printable' => 'children-phones-printable',
					'query' => "SELECT `phones`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `phones`.`phoneNumber` as 'phoneNumber', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company' FROM `phones` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`phones`.`kind` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`phones`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`phones`.`company` "
				)
			),
			'mails' => array(   
				'kind' => array(   
					'parent-table' => 'kinds',
					'parent-primary-key' => 'code',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Mails',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/email.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Mail'),
					'display-field-names' => array(1 => 'kind', 2 => 'mail'),
					'sortable-fields' => array(0 => '`mails`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-mails',
					'template-printable' => 'children-mails-printable',
					'query' => "SELECT `mails`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `mails`.`mail` as 'mail', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company' FROM `mails` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`mails`.`kind` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`mails`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`mails`.`company` "
				),
				'contact' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Mails',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/email.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Mail'),
					'display-field-names' => array(1 => 'kind', 2 => 'mail'),
					'sortable-fields' => array(0 => '`mails`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-mails',
					'template-printable' => 'children-mails-printable',
					'query' => "SELECT `mails`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `mails`.`mail` as 'mail', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company' FROM `mails` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`mails`.`kind` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`mails`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`mails`.`company` "
				),
				'company' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Mails',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/email.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Kind', 2 => 'Mail'),
					'display-field-names' => array(1 => 'kind', 2 => 'mail'),
					'sortable-fields' => array(0 => '`mails`.`id`', 1 => '`kinds1`.`name`', 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-mails',
					'template-printable' => 'children-mails-printable',
					'query' => "SELECT `mails`.`id` as 'id', IF(    CHAR_LENGTH(`kinds1`.`name`), CONCAT_WS('',   `kinds1`.`name`), '') as 'kind', `mails`.`mail` as 'mail', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company' FROM `mails` LEFT JOIN `kinds` as kinds1 ON `kinds1`.`code`=`mails`.`kind` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`mails`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`mails`.`company` "
				)
			),
			'contacts_companies' => array(   
				'contact' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Contact =>Companies',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/brick_link.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Contact', 2 => 'Company'),
					'display-field-names' => array(1 => 'contact', 2 => 'company'),
					'sortable-fields' => array(0 => '`contacts_companies`.`id`', 1 => '`contacts1`.`name`', 2 => '`companies1`.`companyName`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-contacts_companies',
					'template-printable' => 'children-contacts_companies-printable',
					'query' => "SELECT `contacts_companies`.`id` as 'id', IF(    CHAR_LENGTH(`contacts1`.`name`), CONCAT_WS('',   `contacts1`.`name`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyName`), '') as 'company' FROM `contacts_companies` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`contacts_companies`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`contacts_companies`.`company` "
				),
				'company' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Company=>Contacts',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/brick_link.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Contact', 2 => 'Company'),
					'display-field-names' => array(1 => 'contact', 2 => 'company'),
					'sortable-fields' => array(0 => '`contacts_companies`.`id`', 1 => '`contacts1`.`name`', 2 => '`companies1`.`companyName`'),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-contacts_companies',
					'template-printable' => 'children-contacts_companies-printable',
					'query' => "SELECT `contacts_companies`.`id` as 'id', IF(    CHAR_LENGTH(`contacts1`.`name`), CONCAT_WS('',   `contacts1`.`name`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`companyName`), CONCAT_WS('',   `companies1`.`companyName`), '') as 'company' FROM `contacts_companies` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`contacts_companies`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`contacts_companies`.`company` "
				)
			),
			'attachments' => array(   
				'contact' => array(   
					'parent-table' => 'contacts',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attachments',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/attach.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Name', 2 => 'File', 5 => 'ThumbUse'),
					'display-field-names' => array(1 => 'name', 2 => 'file', 5 => 'thumbUse'),
					'sortable-fields' => array(0 => '`attachments`.`id`', 1 => 2, 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => 6),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attachments',
					'template-printable' => 'children-attachments-printable',
					'query' => "SELECT `attachments`.`id` as 'id', `attachments`.`name` as 'name', `attachments`.`file` as 'file', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `attachments`.`thumbUse` as 'thumbUse' FROM `attachments` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attachments`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attachments`.`company` "
				),
				'company' => array(   
					'parent-table' => 'companies',
					'parent-primary-key' => 'id',
					'child-primary-key' => 'id',
					'child-primary-key-index' => 0,
					'tab-label' => 'Attachments',
					'auto-close' => true,
					'table-icon' => 'resources/table_icons/attach.png',
					'display-refresh' => true,
					'display-add-new' => true,
					'forced-where' => '',
					'display-fields' => array(1 => 'Name', 2 => 'File', 5 => 'ThumbUse'),
					'display-field-names' => array(1 => 'name', 2 => 'file', 5 => 'thumbUse'),
					'sortable-fields' => array(0 => '`attachments`.`id`', 1 => 2, 2 => 3, 3 => '`contacts1`.`id`', 4 => '`companies1`.`id`', 5 => 6),
					'records-per-page' => 10,
					'default-sort-by' => false,
					'default-sort-direction' => 'asc',
					'open-detail-view-on-click' => true,
					'display-page-selector' => true,
					'show-page-progress' => true,
					'template' => 'children-attachments',
					'template-printable' => 'children-attachments-printable',
					'query' => "SELECT `attachments`.`id` as 'id', `attachments`.`name` as 'name', `attachments`.`file` as 'file', IF(    CHAR_LENGTH(`contacts1`.`id`), CONCAT_WS('',   `contacts1`.`id`), '') as 'contact', IF(    CHAR_LENGTH(`companies1`.`id`), CONCAT_WS('',   `companies1`.`id`), '') as 'company', `attachments`.`thumbUse` as 'thumbUse' FROM `attachments` LEFT JOIN `contacts` as contacts1 ON `contacts1`.`id`=`attachments`.`contact` LEFT JOIN `companies` as companies1 ON `companies1`.`id`=`attachments`.`company` "
				)
			)
		);

	/*************************************/
	/* End of configuration */


	$currDir = dirname(__FILE__);
	include("{$currDir}/defaultLang.php");
	include("{$currDir}/language.php");
	include("{$currDir}/lib.php");
	@header('Content-Type: text/html; charset=' . datalist_db_encoding);

	handle_maintenance();

	/**
	* dynamic configuration based on current user's permissions
	* $userPCConfig array is populated only with parent tables where the user has access to
	* at least one child table
	*/
	$userPCConfig = array();
	foreach($pcConfig as $pcChildTable => $ChildrenLookups){
		$permChild = getTablePermissions($pcChildTable);
		if($permChild[2]){ // user can view records of the child table, so proceed to check children lookups
			foreach($ChildrenLookups as $ChildLookupField => $ChildConfig){
				$permParent = getTablePermissions($ChildConfig['parent-table']);
				if($permParent[2]){ // user can view records of parent table
					$userPCConfig[$pcChildTable][$ChildLookupField] = $pcConfig[$pcChildTable][$ChildLookupField];
					// show add new only if configured above AND the user has insert permission
					if($permChild[1] && $pcConfig[$pcChildTable][$ChildLookupField]['display-add-new']){
						$userPCConfig[$pcChildTable][$ChildLookupField]['display-add-new'] = true;
					}else{
						$userPCConfig[$pcChildTable][$ChildLookupField]['display-add-new'] = false;
					}
				}
			}
		}
	}

	/* Receive, UTF-convert, and validate parameters */
	$ParentTable = $_REQUEST['ParentTable']; // needed only with operation=show-children, will be validated in the processing code
	$ChildTable = $_REQUEST['ChildTable'];
		if(!in_array($ChildTable, array_keys($userPCConfig))){
			/* defaults to first child table in config array if not provided */
			$ChildTable = current(array_keys($userPCConfig));
		}
		if(!$ChildTable){ die('<!-- No tables accessible to current user -->'); }
	$SelectedID = strip_tags($_REQUEST['SelectedID']);
	$ChildLookupField = $_REQUEST['ChildLookupField'];
		if(!in_array($ChildLookupField, array_keys($userPCConfig[$ChildTable]))){
			/* defaults to first lookup in current child config array if not provided */
			$ChildLookupField = current(array_keys($userPCConfig[$ChildTable]));
		}
	$Page = intval($_REQUEST['Page']);
		if($Page < 1){
			$Page = 1;
		}
	$SortBy = ($_REQUEST['SortBy'] != '' ? abs(intval($_REQUEST['SortBy'])) : false);
		if(!in_array($SortBy, array_keys($userPCConfig[$ChildTable][$ChildLookupField]['sortable-fields']), true)){
			$SortBy = $userPCConfig[$ChildTable][$ChildLookupField]['default-sort-by'];
		}
	$SortDirection = strtolower($_REQUEST['SortDirection']);
		if(!in_array($SortDirection, array('asc', 'desc'))){
			$SortDirection = $userPCConfig[$ChildTable][$ChildLookupField]['default-sort-direction'];
		}
	$Operation = strtolower($_REQUEST['Operation']);
		if(!in_array($Operation, array('get-records', 'show-children', 'get-records-printable', 'show-children-printable'))){
			$Operation = 'get-records';
		}

	/* process requested operation */
	switch($Operation){
		/************************************************/
		case 'show-children':
			/* populate HTML and JS content with children tabs */
			$tabLabels = $tabPanels = $tabLoaders = '';
			foreach($userPCConfig as $ChildTable => $childLookups){
				foreach($childLookups as $ChildLookupField => $childConfig){
					if($childConfig['parent-table'] == $ParentTable){
						$TableIcon = ($childConfig['table-icon'] ? "<img src=\"{$childConfig['table-icon']}\" border=\"0\" />" : '');
						$tabLabels .= sprintf('<li%s><a href="#panel_%s-%s" id="tab_%s-%s" data-toggle="tab">%s%s</a></li>' . "\n\t\t\t\t\t",($tabLabels ? '' : ' class="active"'), $ChildTable, $ChildLookupField, $ChildTable, $ChildLookupField, $TableIcon, $childConfig['tab-label']);
						$tabPanels .= sprintf('<div id="panel_%s-%s" class="tab-pane%s"><img src="loading.gif" align="top" />%s</div>' . "\n\t\t\t\t", $ChildTable, $ChildLookupField, ($tabPanels ? '' : ' active'), $Translation['Loading ...']);
						$tabLoaders .= sprintf('post("parent-children.php", { ChildTable: "%s", ChildLookupField: "%s", SelectedID: "%s", Page: 1, SortBy: "", SortDirection: "", Operation: "get-records" }, "panel_%s-%s");' . "\n\t\t\t\t", $ChildTable, $ChildLookupField, addslashes($SelectedID), $ChildTable, $ChildLookupField);
					}
				}
			}

			if(!$tabLabels){ die('<!-- no children of current parent table are accessible to current user -->'); }
			?>
			<div id="children-tabs">
				<ul class="nav nav-tabs">
					<?php echo $tabLabels; ?>
				</ul>
				<span id="pc-loading"></span>
			</div>
			<div class="tab-content"><?php echo $tabPanels; ?></div>

			<script>
				$j(function(){
					/* for iOS, avoid loading child tabs in modals */
					var iOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);
					var embedded = ($j('.navbar').length == 0);
					if(iOS && embedded){
						$j('#children-tabs').next('.tab-content').remove();
						$j('#children-tabs').remove();
						return;
					}

					/* ajax loading of each tab's contents */
					<?php echo $tabLoaders; ?>
				})
			</script>
			<?php
			break;

		/************************************************/
		case 'show-children-printable':
			/* populate HTML and JS content with children buttons */
			$tabLabels = $tabPanels = $tabLoaders = '';
			foreach($userPCConfig as $ChildTable => $childLookups){
				foreach($childLookups as $ChildLookupField => $childConfig){
					if($childConfig['parent-table'] == $ParentTable){
						$TableIcon = ($childConfig['table-icon'] ? "<img src=\"{$childConfig['table-icon']}\" border=\"0\" />" : '');
						$tabLabels .= sprintf('<button type="button" class="btn btn-default" data-target="#panel_%s-%s" id="tab_%s-%s" data-toggle="collapse">%s %s</button>' . "\n\t\t\t\t\t", $ChildTable, $ChildLookupField, $ChildTable, $ChildLookupField, $TableIcon, $childConfig['tab-label']);
						$tabPanels .= sprintf('<div id="panel_%s-%s" class="collapse"><img src="loading.gif" align="top" />%s</div>' . "\n\t\t\t\t", $ChildTable, $ChildLookupField, $Translation['Loading ...']);
						$tabLoaders .= sprintf('post("parent-children.php", { ChildTable: "%s", ChildLookupField: "%s", SelectedID: "%s", Page: 1, SortBy: "", SortDirection: "", Operation: "get-records-printable" }, "panel_%s-%s");' . "\n\t\t\t\t", $ChildTable, $ChildLookupField, addslashes($SelectedID), $ChildTable, $ChildLookupField);
					}
				}
			}

			if(!$tabLabels){ die('<!-- no children of current parent table are accessible to current user -->'); }
			?>
			<div id="children-tabs" class="hidden-print">
				<div class="btn-group btn-group-lg">
					<?php echo $tabLabels; ?>
				</div>
				<span id="pc-loading"></span>
			</div>
			<div class="vspacer-lg"><?php echo $tabPanels; ?></div>

			<script>
				$j(function(){
					/* for iOS, avoid loading child tabs in modals */
					var iOS = /(iPad|iPhone|iPod)/g.test(navigator.userAgent);
					var embedded = ($j('.navbar').length == 0);
					if(iOS && embedded){
						$j('#children-tabs').next('.tab-content').remove();
						$j('#children-tabs').remove();
						return;
					}

					/* ajax loading of each tab's contents */
					<?php echo $tabLoaders; ?>
				})
			</script>
			<?php
			break;

		/************************************************/
		case 'get-records-printable':
		default: /* default is 'get-records' */

			if($Operation == 'get-records-printable'){
				$userPCConfig[$ChildTable][$ChildLookupField]['records-per-page'] = 2000;
			}

			// build the user permissions limiter
			$permissionsWhere = $permissionsJoin = '';
			$permChild = getTablePermissions($ChildTable);
			if($permChild[2] == 1){ // user can view only his own records
				$permissionsWhere = "`$ChildTable`.`{$userPCConfig[$ChildTable][$ChildLookupField]['child-primary-key']}`=`membership_userrecords`.`pkValue` AND `membership_userrecords`.`tableName`='$ChildTable' AND LCASE(`membership_userrecords`.`memberID`)='".getLoggedMemberID()."'";
			}elseif($permChild[2] == 2){ // user can view only his group's records
				$permissionsWhere = "`$ChildTable`.`{$userPCConfig[$ChildTable][$ChildLookupField]['child-primary-key']}`=`membership_userrecords`.`pkValue` AND `membership_userrecords`.`tableName`='$ChildTable' AND `membership_userrecords`.`groupID`='".getLoggedGroupID()."'";
			}elseif($permChild[2] == 3){ // user can view all records
				/* that's the only case remaining ... no need to modify the query in this case */
			}
			$permissionsJoin = ($permissionsWhere ? ", `membership_userrecords`" : '');

			// build the count query
			$forcedWhere = $userPCConfig[$ChildTable][$ChildLookupField]['forced-where'];
			$query = 
				preg_replace('/^select .* from /i', 'SELECT count(1) FROM ', $userPCConfig[$ChildTable][$ChildLookupField]['query']) .
				$permissionsJoin . " WHERE " .
				($permissionsWhere ? "( $permissionsWhere )" : "( 1=1 )") . " AND " .
				($forcedWhere ? "( $forcedWhere )" : "( 2=2 )") . " AND " .
				"`$ChildTable`.`$ChildLookupField`='" . makeSafe($SelectedID) . "'";
			$totalMatches = sqlValue($query);

			// make sure $Page is <= max pages
			$maxPage = ceil($totalMatches / $userPCConfig[$ChildTable][$ChildLookupField]['records-per-page']);
			if($Page > $maxPage){ $Page = $maxPage; }

			// initiate output data array
			$data = array(
				'config' => $userPCConfig[$ChildTable][$ChildLookupField],
				'parameters' => array(
					'ChildTable' => $ChildTable,
					'ChildLookupField' => $ChildLookupField,
					'SelectedID' => $SelectedID,
					'Page' => $Page,
					'SortBy' => $SortBy,
					'SortDirection' => $SortDirection,
					'Operation' => $Operation
				),
				'records' => array(),
				'totalMatches' => $totalMatches
			);

			// build the data query
			if($totalMatches){ // if we have at least one record, proceed with fetching data
				$startRecord = $userPCConfig[$ChildTable][$ChildLookupField]['records-per-page'] * ($Page - 1);
				$data['query'] = 
					$userPCConfig[$ChildTable][$ChildLookupField]['query'] .
					$permissionsJoin . " WHERE " .
					($permissionsWhere ? "( $permissionsWhere )" : "( 1=1 )") . " AND " .
					($forcedWhere ? "( $forcedWhere )" : "( 2=2 )") . " AND " .
					"`$ChildTable`.`$ChildLookupField`='" . makeSafe($SelectedID) . "'" . 
					($SortBy !== false && $userPCConfig[$ChildTable][$ChildLookupField]['sortable-fields'][$SortBy] ? " ORDER BY {$userPCConfig[$ChildTable][$ChildLookupField]['sortable-fields'][$SortBy]} $SortDirection" : '') .
					" LIMIT $startRecord, {$userPCConfig[$ChildTable][$ChildLookupField]['records-per-page']}";
				$res = sql($data['query'], $eo);
				while($row = db_fetch_row($res)){
					$data['records'][$row[$userPCConfig[$ChildTable][$ChildLookupField]['child-primary-key-index']]] = $row;
				}
			}else{ // if no matching records
				$startRecord = 0;
			}

			if($Operation == 'get-records-printable'){
				$response = loadView($userPCConfig[$ChildTable][$ChildLookupField]['template-printable'], $data);
			}else{
				$response = loadView($userPCConfig[$ChildTable][$ChildLookupField]['template'], $data);
			}

			// change name space to ensure uniqueness
			$uniqueNameSpace = $ChildTable.ucfirst($ChildLookupField).'GetRecords';
			echo str_replace("{$ChildTable}GetChildrenRecordsList", $uniqueNameSpace, $response);
		/************************************************/
	}
